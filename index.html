<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToperBox - Bienvenido</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="styless.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <!-- Logo m√°s grande -->
            <a class="navbar-brand" href="#">
                <img src="imagenes/logo.png" alt="Toperbox Logo" style="height: 100px;">
                <!-- Aumentado el tama√±o del logo -->
            </a>

            <!-- Bot√≥n de colapso para m√≥viles -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

            <!-- Contenido del Navbar -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Men√∫ de navegaci√≥n -->
                <ul class="navbar-nav mr-auto">
                    <!-- Men√∫ de Productos -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-white font-weight-bold" href="#" id="menu-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Productos <i class="fas fa-box-open"></i>
                    </a>
                        <div class="dropdown-menu shadow-lg p-4" aria-labelledby="menu-dropdown">
                            <!-- Submen√∫ de Productos -->
                            <a class="dropdown-item text-dark" href="productos.html">
                                <i class="fas fa-list"></i> Ver todos los productos
                            </a>
                            <div class="dropdown-divider"></div>

                            <!-- Submen√∫ Cat√°logo -->
                            <a class="dropdown-item text-dark" href="#" id="catalogo-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-book-open"></i> Cat√°logo
                            </a>
                            <div class="dropdown-menu pl-4" aria-labelledby="catalogo-dropdown">
                                <a class="dropdown-item text-dark" href="catalogo.html">
                                    <i class="fas fa-book"></i> Acceder al cat√°logo
                                </a>
                            </div>
                            <div class="dropdown-divider"></div>

                            <!-- Submen√∫ Categor√≠as -->
                            <a class="dropdown-item text-dark" href="categorias.html">
                                <i class="fas fa-th"></i> Categor√≠as
                            </a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="#conocenos" id="conocenos-link">Con√≥cenos</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link text-white" href="ayuda.html" id="contact-link">Ayuda</a>
                    </li>
                </ul>

                <!-- Barra de b√∫squeda ampliada -->
                <form class="form-inline mx-auto ml-3" id="search-form" style="margin-left: 30px; width: 30%;">
                    <!-- M√°s ancha y separada -->
                    <input class="form-control mr-sm-2" type="search" placeholder="Buscar productos" aria-label="Buscar" id="search-input" style="font-size: 1.2rem; height: 50px;">
                    <!-- M√°s grande -->
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit" style="font-size: 1.2rem; height: 30px;">Buscar</button>
                </form>

                <!-- Iconos adicionales -->
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="cart.html" cart-icon>
                        üõí <span id="cart-count">0</span>
                    </a>
                    </li>
                    <li class="nav-item dropdown">
                        <button class="btn btn-light dropdown-toggle" type="button" id="userMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        üë§
                    </button>
                        <div class="dropdown-menu" aria-labelledby="userMenu">
                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#userModal">Iniciar sesi√≥n</a>
                            <a class="dropdown-item" href="cupones.html" id="showCoupons">Mis Cupones</a>
                            <a class="dropdown-item" href="productos_vistos.html" id="showRecentlyViewed">Visto Recientemente</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Modal de Registro/Iniciar Sesi√≥n -->
    <div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="userModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="userModalLabel">Registro / Iniciar Sesi√≥n</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                    <form id="registerForm">
                        <!-- Campos de registro -->
                        <div class="form-group">
                            <label for="username">Nombre de usuario</label>
                            <input type="text" class="form-control" id="username" placeholder="Ingresa tu nombre de usuario" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Correo electr√≥nico</label>
                            <input type="email" class="form-control" id="email" placeholder="Ingresa tu correo" required>
                        </div>
                        <div class="form-group">
                            <label for="password">Contrase√±a</label>
                            <input type="password" class="form-control" id="password" placeholder="Ingresa tu contrase√±a" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">Confirmar Contrase√±a</label>
                            <input type="password" class="form-control" id="confirm-password" placeholder="Confirma tu contrase√±a" required>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="termsCheck" required>
                            <label class="form-check-label" for="termsCheck">Acepto las <a href="politicas-seguridad.html">pol√≠ticas de seguridad</a> y <a href="condiciones-servicio.html">condiciones de uso</a>.</label>
                        </div>

                        <!-- Selector de pa√≠s -->
                        <div class="form-group mt-3 text-center">
                            <label for="countrySelect" class="d-block">Pa√≠s</label>
                            <select id="countrySelect" class="form-control w-50 mx-auto">
                            <option value="Mexico" selected>M√©xico</option>
                            <option value="USA">Estados Unidos</option>
                            <option value="Canada">Canad√°</option>
                            <!-- Agrega m√°s opciones seg√∫n sea necesario -->
                        </select>
                        </div>

                        <!-- Bot√≥n de registro -->
                        <button type="submit" class="btn btn-primary btn-block mt-3">Registrarse</button>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!-- Secci√≥n de resultados de b√∫squeda -->
    <section id="search-results-section" class="my-5">
        <div class="container">
            <h3 id="search-message" class="text-center mb-5" style="display: none;">Aqu√≠ est√° el resultado de tu b√∫squeda:</h3>
            <div id="search-results" class="row">
                <!-- Los resultados de b√∫squeda aparecer√°n aqu√≠ -->
            </div>
        </div>
    </section>

    <!-- Secci√≥n Hero con oferta destacada y carrusel -->
    <section class="hero-section">
        <div class="container">
            <h1>Innovaci√≥n y Comodidad para Llevar tus Alimentos</h1>
            <p>Descubre el ToperBox, un contenedor todo en uno para tus comidas y bebidas.</p>


            <!-- Carrusel Bootstrap -->
            <div id="heroCarousel" class="carousel slide mt-4" data-bs-ride="carousel">
                <!-- Indicadores del carrusel -->
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>

                <!-- Im√°genes del carrusel -->
                <div class="carousel-inner">
                    <!-- Slide 1 -->
                    <div class="carousel-item active">
                        <img src="imagenes/Detalles.png" class="d-block w-100" alt="ToperBox Innovador">
                    </div>

                    <!-- Slide 2 -->
                    <div class="carousel-item">
                        <img src="imagenes/Lonchera.png" class="d-block w-100" alt="ToperBox Dise√±o">
                    </div>

                    <!-- Slide 3 -->
                    <div class="carousel-item">
                        <img src="imagenes/azul metalico.png" class="d-block w-100" alt="ToperBox Funcionalidad">
                    </div>

                    <!-- Controles de anterior/siguiente -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
            </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Siguiente</span>
            </button>
                </div>
            </div>
    </section>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Bot√≥n para redirigir a la encuesta -->
    <div class="container text-center mt-5">
        <a href="encuesta.html" class="btn btn-primary btn-lg">Participa en nuestra Encuesta</a>
    </div>

    <!-- Secci√≥n de productos -->
    <section class="products-section">
        <div class="container">
            <h2 class="text-center mb-5">Los m√°s vistos</h2>
            <div class="row">
                <!-- Producto 1 -->
                <div class="col-md-3">
                    <div class="product-card">
                        <img src="imagenes/Lonchera.png" alt="Lonchera">
                        <h5>Lonchera</h5>
                        <p>$10.99</p>
                        <button class="btn btn-primary" onclick="addToCart('Lonchera', 10.99, 'imagenes/Lonchera.png')">Agregar al carrito</button>
                    </div>
                </div>

                <!-- Producto 2 -->
                <div class="col-md-3">
                    <div class="product-card">
                        <img src="imagenes/Topers.jpg" alt="Topers">
                        <h5>Topers</h5>
                        <p>$15.99</p>
                        <button class="btn btn-primary" onclick="addToCart('Topers', 15.99, 'imagenes/Topers.jpg')">Agregar al carrito</button>
                    </div>
                </div>

                <!-- Producto 3 -->
                <div class="col-md-3">
                    <div class="product-card">
                        <img src="imagenes/botellaa.png" alt="Botella">
                        <h5>Botella</h5>
                        <p>$8.99</p>
                        <a href="Detalles.html" class="btn btn-primary">ver detalles</a>
                        <button class="btn btn-primary" onclick="addToCart('Botella', 8.99, 'imagenes/botellaa.png')">Agregar al carrito</button>
                    </div>
                </div>

                <!-- Producto 4 -->
                <div class="col-md-3">
                    <div class="product-card">
                        <img src="imagenes/cubiertos.png" alt="cubiertos">
                        <h5>Cubiertos</h5>
                        <p>$12.99</p>
                        <button class="btn btn-primary" onclick="addToCart('Producto 4', 12.99, 'imagenes/cubiertos.png')">Agregar al carrito</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Script para agregar al carrito y mostrar el contenido -->
    <script>
        // Funci√≥n para agregar productos al carrito
        function addToCart(productName, productPrice, productImage) {
            // Obtener carrito actual del localStorage
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Crear objeto de producto
            let product = {
                name: productName,
                price: productPrice,
                image: productImage
            };

            // Agregar el producto al carrito
            cart.push(product);

            // Guardar el carrito en localStorage
            localStorage.setItem('cart', JSON.stringify(cart));

            // Actualizar el contador de productos en el carrito
            updateCartCount();
        }

        // Funci√≥n para actualizar el contador de productos en el carrito
        function updateCartCount() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            let cartCount = cart.length;
            document.getElementById('cart-count').textContent = cartCount;
        }

        // Llamar a updateCartCount al cargar la p√°gina para asegurarse de que el contador est√° actualizado
        window.onload = function() {
            updateCartCount();
        };
    </script>


    <!-- Secci√≥n de Rese√±as -->
    <section id="rese√±as-section" class="container mt-4">
        <div class="text-center">
            <h2 class="mb-2">üí¨ ¬°Tu Opini√≥n Importa!</h2>
            <p class="mb-3 text-muted">Ay√∫danos a mejorar dejando tu rese√±a. ¬øQu√© te ha gustado m√°s? ‚≠ê</p>
        </div>
        <div class="card shadow-sm mx-auto p-3" style="max-width: 650px;">
            <h3 class="text-center mb-3">Escribe tu Rese√±a</h3>
            <form id="rese√±a-form">
                <!-- Campo de Nombre -->
                <div class="form-group">
                    <label for="nombre" class="font-weight-bold">üë§ Nombre</label>
                    <input type="text" class="form-control" id="nombre" placeholder="Escribe tu nombre" required>
                </div>

                <!-- Campo de Comentario -->
                <div class="form-group">
                    <label for="comentario" class="font-weight-bold">‚úçÔ∏è Comentario</label>
                    <textarea class="form-control" id="comentario" rows="2" placeholder="Cu√©ntanos tu experiencia..." required></textarea>
                </div>

                <!-- Calificaci√≥n de Estrellas -->
                <div class="form-group">
                    <label for="calificacion" class="font-weight-bold">‚≠ê Calificaci√≥n</label>
                    <div id="calificacion" class="d-flex justify-content-center">
                        <i class="fas fa-star" data-value="1"></i>
                        <i class="fas fa-star" data-value="2"></i>
                        <i class="fas fa-star" data-value="3"></i>
                        <i class="fas fa-star" data-value="4"></i>
                        <i class="fas fa-star" data-value="5"></i>
                    </div>
                </div>

                <!-- Bot√≥n de Enviar -->
                <div class="text-center">
                    <button type="submit" class="btn btn-primary btn-sm mt-2 px-4">Enviar Rese√±a</button>
                </div>
            </form>
        </div>

        <!-- Espacio para rese√±as existentes -->
        <div class="mt-4">
            <h3 class="text-center">üåü Opiniones de Nuestros Clientes</h3>
            <div id="opiniones-list" class="list-group mt-3">
                <div class="list-group-item shadow-sm mb-2">
                    <h5 class="mb-1">Mar√≠a L√≥pez</h5>
                    <p class="mb-1">¬°Me encantaron los productos! La calidad es excelente.</p>
                    <div class="text-warning">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                </div>
                <div class="list-group-item shadow-sm">
                    <h5 class="mb-1">Juan P√©rez</h5>
                    <p class="mb-1">El dise√±o es muy pr√°ctico, pero el env√≠o tard√≥ un poco.</p>
                    <div class="text-warning">‚≠ê‚≠ê‚≠ê‚≠ê</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Script para agregar rese√±a -->
    <script>
        // Evento cuando el formulario se env√≠a
        document.getElementById("rese√±a-form").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevenir el comportamiento predeterminado (recarga de la p√°gina)

            // Obtener los datos del formulario
            const nombre = document.getElementById("nombre").value;
            const comentario = document.getElementById("comentario").value;
            const estrellas = Array.from(document.querySelectorAll("#calificacion .fa-star"))
                .filter(star => star.classList.contains("text-warning")).length;

            // Crear un nuevo elemento para la rese√±a
            const nuevaRese√±a = document.createElement("div");
            nuevaRese√±a.classList.add("list-group-item", "shadow-sm", "mb-2");

            // Rellenar el nuevo elemento con los datos del formulario
            nuevaRese√±a.innerHTML = `
            <h5 class="mb-1">${nombre}</h5>
            <p class="mb-1">${comentario}</p>
            <div class="text-warning">${"‚≠ê".repeat(estrellas)}${"‚òÜ".repeat(5 - estrellas)}</div>
        `;

            // A√±adir la nueva rese√±a al inicio de la lista
            document.getElementById("opiniones-list").insertBefore(nuevaRese√±a, document.getElementById("opiniones-list").firstChild);

            // Limpiar el formulario despu√©s de enviar
            document.getElementById("rese√±a-form").reset();
        });

        // Funcionalidad para seleccionar estrellas
        document.querySelectorAll("#calificacion .fa-star").forEach(star => {
            star.addEventListener("click", function() {
                const value = parseInt(star.getAttribute("data-value"));
                document.querySelectorAll("#calificacion .fa-star").forEach(starElement => {
                    if (parseInt(starElement.getAttribute("data-value")) <= value) {
                        starElement.classList.add("text-warning");
                    } else {
                        starElement.classList.remove("text-warning");
                    }
                });
            });
        });
    </script>



    <section id="conocenos">
        <div class="container text-center">
            <h2>Con√≥cenos</h2>
            <div class="feature-section">
                <div class="feature">
                    <img src="imagenes/icono1.png" alt="Contenedor">
                    <h4>Contenedor modular</h4>
                    <p>Para comida y bebida.</p>
                </div>
                <div class="feature">
                    <img src="imagenes/icono 2.png" alt="Botella">
                    <h4>Botella t√©rmica</h4>
                    <p>Integrada para uso diario.</p>
                </div>
                <div class="feature">
                    <img src="imagenes/icono3.png" alt="Compartimentos">
                    <h4>Compartimentos ajustables</h4>
                    <p>Perfectos para todo tipo de alimentos.</p>
                </div>
                <div class="feature">
                    <img src="imagenes/icono4.png" alt="Dise√±o">
                    <h4>Dise√±o compacto</h4>
                    <p>Duradero y resistente.</p>
                </div>
            </div>
        </div>
    </section>


    <!-- Pie de P√°gina (ajustado) -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h6 class="text-uppercase">Recursos</h6>
                    <ul class="list-unstyled" style="font-size: 0.9em;">
                        <li><a href="#rese√±as-section" class="text-white">Rese√±as</a></li>
                        <li><a href="#userModal" class="text-white" data-toggle="modal" data-target="#userModal">√önete a Nosotros</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-3">
                    <h6 class="text-uppercase">ToperBox</h6>
                    <ul class="list-unstyled" style="font-size: 0.9em;">
                        <li><a href="acerca-de-la-pagina.html" class="text-white">Acerca de la P√°gina</a></li>
                        <li><a href="politicas-seguridad.html" class="text-white">Pol√≠ticas de Seguridad</a></li>
                        <li><a href="condiciones-servicio.html" class="text-white">Condiciones del Servicio</a></li>
                        <li><a href="terminos-uso.html" class="text-white">T√©rminos de Uso</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-3">
                    <h6 class="text-uppercase">Ayuda</h6>
                    <ul class="list-unstyled" style="font-size: 0.9em;">
                        <li><a href="ayuda.html" class="text-white">Obtener Ayuda</a></li>
                        <li><a href="politicas_de_devolucion.html" class="text-white">Devoluciones</a></li>
                        <li><a href="opciones_de_pago.html" class="text-white">Opciones de Pago</a></li>
                        <li><a href="entrega_y_envio.html" class="text-white">Env√≠o y Entrega</a></li>
                    </ul>
                </div>
            </div>
            <div class="text-center mt-3" style="font-size: 0.8em;">
                &copy; 2024 ToperBox. Todos los derechos reservados.
                <div class="social-media mt-2">
                    <a href="https://www.facebook.com/ToperBox" target="_blank" class="text-white mx-2">
                        <i class="fab fa-facebook" style="font-size: 1.5em;"></i>
                    </a>
                    <a href="https://www.instagram.com/ToperBox" target="_blank" class="text-white mx-2">
                        <i class="fab fa-instagram" style="font-size: 1.5em;"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="cart.js"></script>
    <script src="scripts.js"></script>

    <script>
        let cart = [];
        let products = [{
            name: "Lonchera",
            category: "loncheras",
            price: 10.99,
            img: "imagenes/Lonchera.png",
            offer: true
        }, {
            name: "Cubiertos 1",
            category: "cubiertos",
            price: 5.99,
            img: "imagenes/cubiertos.png ",
            offer: false
        }, {
            name: "Taza 1",
            category: "tazas",
            price: 8.99,
            img: "imagenes/Taza.jpg",
            offer: true
        }, {
            name: "Botella 1",
            category: "botellas",
            price: 12.99,
            img: "imagenes/Botella.png",
            offer: false
        }, {
            name: "Topper 1",
            category: "toppers",
            price: 6.99,
            img: "imagenes/Topers.jpg",
            offer: true
        }];


        // Mostrar productos por categor√≠a en una nueva secci√≥n
        $('.dropdown-item').on('click', function() {
            let category = $(this).data('category');
            window.location.href = `#category-${category}`;
            displayCategoryProducts(products.filter(p => p.category === category), category);
        });

        function displayCategoryProducts(filteredProducts, category) {
            let content = `<h3>${capitalize(category)}</h3><div class="row">`;
            filteredProducts.forEach(p => {
                content += `
                    <div class="col-md-3">
                        <div class="product-card">
                            <img src="${p.img}" alt="${p.name}" class="product-img">
                            <h5>${p.name}</h5>
                            <p>$${p.price}</p>
                            <button class="btn btn-primary add-to-cart" data-name="${p.name}" data-price="${p.price}" data-img="${p.img}">Agregar al carrito</button>
                        </div>
                    </div>
                `;
            });
            content += '</div>';
            $('#dynamic-content').html(content);
        }

        // Mostrar productos buscados sobre "Los m√°s vistos"
        $('#search-form').on('submit', function(e) {
            e.preventDefault();
            let query = $('#search-input').val().toLowerCase();
            let results = products.filter(p => p.name.toLowerCase().includes(query));
            if (results.length > 0) {
                let content = '<h3>Resultados de la b√∫squeda</h3><div class="row">';
                results.forEach(p => {
                    content += `
                        <div class="col-md-3">
                            <div class="product-card">
                                <img src="${p.img}" alt="${p.name}" class="product-img">
                                <h5>${p.name}</h5>
                                <p>$${p.price}</p>
                                <button class="btn btn-primary add-to-cart" data-name="${p.name}" data-price="${p.price}" data-img="${p.img}">Agregar al carrito</button>
                            </div>
                        </div>
                    `;
                });
                content += '</div>';
                $('#search-results').html(content);
            } else {
                $('#search-results').html('<h3>No se encontraron resultados.</h3>');
            }
        });

        // Funci√≥n auxiliar para capitalizar texto
        function capitalize(text) {
            return text.charAt(0).toUpperCase() + text.slice(1);
        }

        // Funci√≥n para inicializar el carrito
        function updateCart() {
            let cartCount = cart.reduce((acc, item) => acc + item.quantity, 0);
            $('#cart-count').text(cartCount);
        }

        // Eventos para agregar al carrito
        $(document).on('click', '.add-to-cart', function() {
            const name = $(this).data('name');
            const price = parseFloat($(this).data('price'));
            const img = $(this).data('img');
            addToCart({
                name,
                price,
                img
            });
        });

        function addToCart(product) {
            let found = cart.find(item => item.name === product.name);
            if (found) {
                found.quantity++;
            } else {
                cart.push({...product,
                    quantity: 1
                });
            }
            updateCart();
        }

        $(document).ready(function() {
            // Mostrar/ocultar contrase√±a
            $("#togglePassword").click(function() {
                var passwordField = $("#password");
                var confirmPasswordField = $("#confirm-password");
                var type = passwordField.attr("type") === "password" ? "text" : "password";
                passwordField.attr("type", type);
                confirmPasswordField.attr("type", type);

                // Cambiar el √≠cono del ojo
                $("#eye-icon").toggleClass("fa-eye fa-eye-slash");
            });

            // Validar confirmaci√≥n de contrase√±a
            $("#confirm-password").on("input", function() {
                var password = $("#password").val();
                var confirmPassword = $(this).val();
                if (password !== confirmPassword) {
                    $("#password-error").show();
                } else {
                    $("#password-error").hide();
                }
            });

            // Validar formulario antes de enviar
            $("#login-form").submit(function(event) {
                if ($("#password").val() !== $("#confirm-password").val()) {
                    event.preventDefault();
                    alert("Las contrase√±as no coinciden.");
                }
            });

            // Seleccionar las estrellas
            $(document).ready(function() {
                // Cuando el usuario haga clic en una estrella
                $("#calificacion i").click(function() {
                    var rating = $(this).data("value");

                    // Resaltar las estrellas correspondientes
                    $("#calificacion i").removeClass("selected");
                    for (var i = 1; i <= rating; i++) {
                        $("#calificacion i:nth-child(" + i + ")").addClass("selected");
                    }
                });

                // Enviar la rese√±a
                $("#rese√±a-form").submit(function(event) {
                    event.preventDefault();
                    var nombre = $("#nombre").val();
                    var comentario = $("#comentario").val();
                    var calificacion = $("#calificacion i.selected").length;

                    if (nombre && comentario && calificacion > 0) {
                        alert("Gracias por tu rese√±a, " + nombre + "! Tu calificaci√≥n fue: " + calificacion + " estrellas.");
                        // Aqu√≠ puedes agregar c√≥digo para enviar la rese√±a al servidor si lo deseas.
                    } else {
                        alert("Por favor completa todos los campos.");
                    }
                });

                function verDetallesProducto(idProducto) {
                    const producto = productos.find(p => p.id === idProducto);
                    if (producto) {
                        localStorage.setItem('productoSeleccionado', JSON.stringify(producto));
                        window.location.href = 'detallesProducto.html';
                    }
                }

            });

        });
    </script>
</body>

</html>